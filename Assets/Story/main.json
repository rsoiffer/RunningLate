{"inkVersion":20,"root":[["\n","\n","\n","\n","\n",{"->":"prologue"},["done",{"#f":5,"#n":"g-0"}],null],"done",{"prologue":[["^You are Augustin DuPont, the world-famous thief.","\n","^In the winter of 1932 you find yourself traveling in luxury aboard <i>The Imperial Limited</i>, where proprietary plans for an innovative hydrogen airship are being transported to Vancouver under lock and key.","\n","^A secretive patron has promised to pay you handsomely for these plans.","\n","ev","str","^Continue...","/str","/ev",{"*":".^.c-0","flg":20},{"c-0":["\n",{"->":"main_loop"},{"#f":5}]}],{"#f":1}],"main_loop":[[{"#":"MENU"},"^menu","\n","ev","str","^Objectives: ","/str",{"f()":"prettyPrintObjectives"},"+","out","/ev","\n","^Available interactions:","\n","ev","str","^INTERACT(\"safe\")","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^INTERACT(\"guard\")","/str","/ev",{"*":".^.c-1","flg":4},"ev","str","^INTERACT(\"mechanic\")","/str","/ev",{"*":".^.c-2","flg":4},"ev","str","^INTERACT(\"inventor\")","/str","/ev",{"*":".^.c-3","flg":4},"ev","str","^INTERACT(\"hunter\")","/str","/ev",{"*":".^.c-4","flg":4},"ev","str","^INTERACT(\"magnate\")","/str","/ev",{"*":".^.c-5","flg":4},"ev","str","^INTERACT(\"novelist\")","/str","/ev",{"*":".^.c-6","flg":4},"ev","str","^INTERACT(\"student\")","/str","/ev",{"*":".^.c-7","flg":4},"ev","str","^INTERACT(\"fireplace\")","/str","/ev",{"*":".^.c-8","flg":4},"ev","str","^INTERACT(\"sink\")","/str","/ev",{"*":".^.c-9","flg":4},"ev","str","^INTERACT(\"oven\")","/str","/ev",{"*":".^.c-10","flg":4},"ev","str","^INTERACT(\"plant\")","/str","/ev",{"*":".^.c-11","flg":4},"ev","str","^INTERACT(\"drawer\")","/str","/ev",{"*":".^.c-12","flg":4},"ev","str","^INTERACT(\"table\")","/str","/ev",{"*":".^.c-13","flg":4},{"c-0":["^ ",{"->":"safe"},"\n",{"#f":5}],"c-1":["^ ",{"->":"guard"},"\n",{"#f":5}],"c-2":["^ ",{"->":"mechanic"},"\n",{"#f":5}],"c-3":["^ ",{"->":"inventor"},"\n",{"#f":5}],"c-4":["^ ",{"->":"hunter"},"\n",{"#f":5}],"c-5":["^ ",{"->":"magnate"},"\n",{"#f":5}],"c-6":["^ ",{"->":"novelist"},"\n",{"#f":5}],"c-7":["^ ",{"->":"student"},"\n",{"#f":5}],"c-8":["^ ",{"->":"fireplace"},"\n",{"#f":5}],"c-9":["^ ",{"->":"sink"},"\n",{"#f":5}],"c-10":["^ ",{"->":"oven"},"\n",{"#f":5}],"c-11":["^ ",{"->":"plant"},"\n",{"#f":5}],"c-12":["^ ",{"->":"drawer"},"\n",{"#f":5}],"c-13":["^ ",{"->":"table"},"\n",{"->":".^.^.^"},{"#f":5}]}],{"#f":3}],"game_over":["end",{"#f":1}],"name":[{"temp=":"item"},"ev",{"VAR?":"item"},"/ev",["du","ev",{"VAR?":"knife"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev","str","^knife","/str","/ev","~ret",{"->":"name.25"},null]}],["du","ev",{"VAR?":"letter"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev","str","^incriminating note","/str","/ev","~ret",{"->":"name.25"},null]}],["du","ev",{"VAR?":"strange_schematics"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev","str","^enigmatic schematics","/str","/ev","~ret",{"->":"name.25"},null]}],["du","ev",{"VAR?":"cloth"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev","str","^washcloth","/str","/ev","~ret",{"->":"name.25"},null]}],["du","ev",{"VAR?":"mop"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev","str","^mop","/str","/ev","~ret",{"->":"name.25"},null]}],["du","ev",{"VAR?":"matchbook"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev","str","^matchbook","/str","/ev","~ret",{"->":"name.25"},null]}],["du","ev",{"VAR?":"handkerchief"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev","str","^handkerchief","/str","/ev","~ret",{"->":"name.25"},null]}],["du","ev",{"VAR?":"chloroform"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev","str","^chloroform","/str","/ev","~ret",{"->":"name.25"},null]}],["du","ev",{"VAR?":"airship_plans"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev","str","^the airship schematics","/str","/ev","~ret",{"->":"name.25"},null]}],["du","ev",{"VAR?":"lighter"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev","str","^cigarette lighter","/str","/ev","~ret",{"->":"name.25"},null]}],["du","ev",{"VAR?":"nanaimo_bar"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev","str","^Nanaimo bar","/str","/ev","~ret",{"->":"name.25"},null]}],["du","ev",{"VAR?":"money"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev","str","^$200","/str","/ev","~ret",{"->":"name.25"},null]}],["du","ev",{"VAR?":"wallet"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev","str","^wallet.","/str","/ev","~ret",{"->":"name.25"},null]}],["du","ev",{"VAR?":"_guard"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev","str","^the guard","/str","/ev","~ret",{"->":"name.25"},null]}],["du","ev",{"VAR?":"_mechanic"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev","str","^the mechanic","/str","/ev","~ret",{"->":"name.25"},null]}],["du","ev",{"VAR?":"_inventor"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev","str","^the inventor","/str","/ev","~ret",{"->":"name.25"},null]}],["du","ev",{"VAR?":"_hunter"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev","str","^the big hame hunter","/str","/ev","~ret",{"->":"name.25"},null]}],["du","ev",{"VAR?":"_novelist"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev","str","^the novelist","/str","/ev","~ret",{"->":"name.25"},null]}],["du","ev",{"VAR?":"_student"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev","str","^the law student","/str","/ev","~ret",{"->":"name.25"},null]}],["du","ev",{"VAR?":"_magnate"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev","str","^the oil magnate","/str","/ev","~ret",{"->":"name.25"},null]}],"pop","nop","\n","ev","str","^","/str","/ev","~ret",{"#f":1}],"listToStr":[{"temp=":"suffix"},{"temp=":"infix"},{"temp=":"prefix"},{"temp=":"list"},"ev",{"VAR?":"list"},"LIST_MIN","/ev",{"temp=":"head"},"\n","ev",{"VAR?":"list"},"LIST_COUNT","/ev",["du","ev",0,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev","str","^","/str","/ev","~ret",{"->":".^.^.^.17"},null]}],["du","ev",1,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"prefix"},{"VAR?":"head"},"LIST_MIN",{"f()":"name"},"+",{"VAR?":"suffix"},"+","/ev","~ret","\n",{"->":".^.^.^.17"},null]}],[{"->":".^.b"},{"b":["pop","\n","ev",{"VAR?":"prefix"},{"VAR?":"head"},"LIST_MIN",{"f()":"name"},"+",{"VAR?":"suffix"},"+",{"VAR?":"infix"},"+",{"VAR?":"list"},{"VAR?":"head"},"LIST_MIN","-",{"VAR?":"prefix"},{"VAR?":"infix"},{"VAR?":"suffix"},{"f()":".^.^.^"},"+","/ev","~ret","\n",{"->":".^.^.^.17"},null]}],"nop","\n",{"#f":1}],"canCleanBlood":["ev",{"VAR?":"can_clean"},{"VAR?":"inventory"},"L^","LIST_COUNT",0,">","/ev","~ret","\n",{"#f":1}],"cleanBlood":["ev",{"f()":"canCleanBlood"},"/ev",[{"->":".^.b","c":true},{"b":["\n","ev",{"VAR?":"bloody"},{"VAR?":"can_clean"},{"VAR?":"inventory"},"L^","LIST_MIN","+",{"VAR=":"bloody","re":true},"/ev","\n","ev",true,"/ev","~ret",{"->":".^.^.^.5"},null]}],[{"->":".^.b"},{"b":["\n","ev",false,"/ev","~ret",{"->":".^.^.^.5"},null]}],"nop","\n",{"#f":1}],"hasIncriminatingEvidence":["ev",{"VAR?":"inventory"},{"VAR?":"incriminating"},{"VAR?":"bloody"},"+","L^","LIST_COUNT",0,">","/ev","~ret","\n",{"#f":1}],"canStartFire":["ev",{"VAR?":"inventory"},{"VAR?":"firestarters"},"L^","LIST_COUNT",0,">","/ev","~ret","\n",{"#f":1}],"flammableItems":["ev",{"VAR?":"inventory"},{"VAR?":"flammable"},"L^","/ev","~ret",{"#f":1}],"burnEvidence":[{"temp=":"item"},"ev",{"VAR?":"inventory"},{"VAR?":"item"},"-",{"VAR=":"inventory","re":true},"/ev","ev",{"VAR?":"items_in_fireplace"},{"VAR?":"item"},"+",{"VAR=":"items_in_fireplace","re":true},"/ev",{"#f":1}],"nearby":[{"temp=":"obj_id"},"ev",true,"/ev","~ret",{"#f":1}],"chloroformWrapper":[{"temp=":"npc_list_item"},{"temp=":"npc_id"},"ev",{"VAR?":"npc_id"},{"x()":"chloroformNPC","exArgs":1},"pop","/ev","\n","ev",{"VAR?":"chloroformed"},{"VAR?":"npc_list_item"},"+",{"VAR=":"chloroformed","re":true},"/ev","ev",{"VAR?":"panicked"},{"VAR?":"npc_list_item"},"-",{"VAR=":"panicked","re":true},"/ev","ev",{"VAR?":"suspicious"},{"VAR?":"npc_list_item"},"-",{"VAR=":"suspicious","re":true},"/ev","ev",{"VAR?":"groggy"},{"VAR?":"npc_list_item"},"+",{"VAR=":"groggy","re":true},"/ev","ev",{"VAR?":"npc_id"},"str","^unconscious","/str",{"x()":"changeVisualState","exArgs":2},"pop","/ev","\n","ev","str","^You knock out ","/str",{"VAR?":"npc_list_item"},{"f()":"name"},"+","str","^ with chloroform.","/str","+","/ev","~ret","\n",{"#f":1}],"safe":[["ev",{"VAR?":"safe_opened"},"/ev",[{"->":".^.b","c":true},{"b":["\n","^You already cracked this safe.  There's nothing inside.","\n",{"->":"main_loop"},{"->":"safe.0.4"},null]}],"nop","\n","^This safe should contain the airship plans you're looking for.","\n","ev","str","ev","str","^(go back)","/str","out","/ev","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Crack the safe.","/str","/ev",{"*":".^.c-1","flg":20},{"c-0":["^ ",{"->":"main_loop"},"\n",{"#f":5}],"c-1":["\n","ev",true,"/ev",{"VAR=":"safe_opened","re":true},"^The safe immediately clicks open, but you don't find the expected schematics inside.","\n","^Instead, there's a note resembling your own handwriting.","\n","ev",{"VAR?":"inventory"},{"VAR?":"letter"},"+",{"VAR=":"inventory","re":true},"/ev","^\"Cower, simpletons! Your plans have been stolen by the great Augustin DuPont.\"","\n","^\"The world will know and fear me!\"","\n","^You didn't write this; someone is trying to set you up!","\n","^As you read the note, a guard walks into the room.","\n","ev","str","^guard","/str","str","^visible","/str",{"x()":"changeVisualState","exArgs":2},"out","/ev","\n","ev",{"VAR?":"panicked"},{"VAR?":"_guard"},"+",{"VAR=":"panicked","re":true},"/ev","ev",{"VAR?":"npc_hidden"},{"VAR?":"_guard"},"-",{"VAR=":"npc_hidden","re":true},"/ev","^Guard: You won't get away with this, scoundrel!","\n",{"->":"main_loop"},{"#f":5}]}],{"#f":1}],"fireplace":[[{"#":"INTERACT"},"^The fireplace is ","ev",{"VAR?":"fireplace_state"},{"VAR?":"burning"},"?","/ev",[{"->":".^.b","c":true},{"b":["^crackling merrily",{"->":".^.^.^.9"},null]}],[{"->":".^.b"},{"b":["^cold and dark",{"->":".^.^.^.9"},null]}],"nop","^.","\n","thread",{"->":".^.^.toggle_fire_state"},"ev",{"f()":"flammableItems"},"/ev","thread",{"->":".^.^.burn_options"},"ev","str","ev","str","^(go back)","/str","out","/ev","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["^ ",{"->":"main_loop"},"\n",{"#f":5}]}],{"toggle_fire_state":[["ev","str","^Put out the fire.","/str",{"VAR?":"fireplace_state"},{"VAR?":"burning"},"==","/ev",{"*":".^.c-0","flg":5},"ev","str","^Light the fire.","/str",{"VAR?":"fireplace_state"},{"VAR?":"normal"},"==",{"f()":"canStartFire"},"&&","/ev",{"*":".^.c-1","flg":5},{"c-0":["\n","ev",{"VAR?":"normal"},"/ev",{"VAR=":"fireplace_state","re":true},"ev","str","^fireplace","/str","str","^unlit","/str",{"x()":"changeVisualState","exArgs":2},"pop","/ev","\n",{"->":".^.^.^.^"},{"#f":5}],"c-1":["\n","ev","str","^fireplace","/str","str","^lit","/str",{"x()":"changeVisualState","exArgs":2},"pop","/ev","\n","ev",{"VAR?":"burning"},"/ev",{"VAR=":"fireplace_state","re":true},{"->":".^.^.^.^"},"done",{"#f":5}]}],{"#f":1}],"burn_options":[{"temp=":"flammables"},"ev",{"VAR?":"fireplace_state"},{"VAR?":"normal"},"?","/ev",[{"->":".^.b","c":true},{"b":["^ ","done",{"->":".^.^.^.7"},null]}],"nop","\n","ev",{"VAR?":"flammables"},"LIST_MIN","/ev",[{"->":".^.b","c":true},{"b":["\n","ev",{"VAR?":"flammables"},"LIST_MIN","/ev",{"temp=":"item_to_burn"},"\n","ev",{"VAR?":"flammables"},{"VAR?":"item_to_burn"},"-","/ev","thread",{"->":".^.^.^"},"ev","str","^Burn the ","ev",{"VAR?":"item_to_burn"},{"f()":"name"},"out","/ev","/str","/ev",{"*":".^.c-0","flg":4},{"->":".^.^.^.15"},{"c-0":["\n","ev",{"VAR?":"item_to_burn"},"/ev",{"->":"fireplace.burn_item"},"done",{"#f":5}]}]}],[{"->":".^.b"},{"b":["\n","done",{"->":".^.^.^.15"},null]}],"nop","\n",{"#f":1}],"burn_item":[{"temp=":"item_to_burn"},"^The fire flares up momentarily as you toss in the ","ev",{"VAR?":"item_to_burn"},{"f()":"name"},"out","/ev","^.","\n","ev",{"VAR?":"item_to_burn"},{"f()":"burnEvidence"},"pop","/ev","\n",{"->":".^.^"},{"#f":1}],"#f":1}],"sink":[["^You are looking at a small sink.","\n","ev","str","^Wash hands.","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","ev","str","^(go back)","/str","out","/ev","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["\n","^Your hands are now clean.","\n","ev",false,"/ev",{"VAR=":"bloody_hands","re":true},{"->":"main_loop"},{"#f":5}],"c-1":["^ ",{"->":"main_loop"},"\n",{"#f":5}]}],{"observed":[{"->":"main_loop"},{"#f":1}],"#f":1}],"oven":["ev",{"VAR?":"gas_leak"},"!","/ev",[{"->":".^.b","c":true},{"b":["\n","^This appears to be a small gas oven.","\n","ev","str","^Sabotage it!","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","ev","str","^(go back)","/str","out","/ev","/str","/ev",{"*":".^.c-1","flg":4},{"->":"oven.6"},{"c-0":["\n","ev",true,"/ev",{"VAR=":"gas_leak","re":true},"ev","str","^oven","/str","str","^gasleak","/str",{"x()":"changeVisualState","exArgs":2},"pop","/ev","\n","^You sabotage the oven, creating a gas leak.  You'd better let the mechanic know before something goes horribly wrong!","\n",{"->":"main_loop"},{"#f":5}],"c-1":["^ ",{"->":"main_loop"},"\n",{"#f":5}]}]}],[{"->":".^.b"},{"b":["\n","^The oven has been sabotaged.  You smell natural gas. ",{"->":"main_loop"},"\n",{"->":"oven.6"},null]}],"nop","\n",{"#f":1}],"plant":["ev",{"VAR?":"plant_state"},"/ev",["du","ev",{"VAR?":"normal"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","^This is a decorative plant of some sort.  You could probably set it on fire","ev",{"VAR?":"inventory"},{"VAR?":"matchbook"},"?","/ev",[{"->":".^.b","c":true},{"b":["^.",{"->":".^.^.^.10"},null]}],[{"->":".^.b"},{"b":["^, if you had a match.",{"->":".^.^.^.10"},null]}],"nop","\n","ev","str","^Set it on fire.","/str",{"f()":"canStartFire"},"/ev",{"*":".^.c-0","flg":5},"ev","str","ev","str","^(go back)","/str","out","/ev","/str","/ev",{"*":".^.c-1","flg":4},{"->":"plant.7"},{"c-0":["\n","^The plant catches fire easily.","\n","ev",{"VAR?":"burning"},"/ev",{"VAR=":"plant_state","re":true},"ev","str","^plant","/str","str","^burning","/str",{"x()":"changeVisualState","exArgs":2},"pop","/ev","\n",{"->":"main_loop"},{"#f":5}],"c-1":["^ ",{"->":"main_loop"},"\n",{"#f":5}]}]}],["du","ev",{"VAR?":"burning"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","^The plant is on fire.","\n",{"->":"main_loop"},{"->":"plant.7"},null]}],["du","ev",{"VAR?":"burnt"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","^You already burned this plant to a crisp.","\n",{"->":"main_loop"},{"->":"plant.7"},null]}],"pop","nop","\n",{"#f":1}],"table":["ev",{"VAR?":"table_has_nanaimo_bar"},"/ev",[{"->":".^.b","c":true},{"b":["\n","^You see a tasty-looking Nanaimo bar on the table.","\n","ev","str","^Take it.","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^Leave it.","/str","/ev",{"*":".^.c-1","flg":4},{"->":"table.5"},{"c-0":["\n","^You grab the Nanaimo bar.","\n","ev",{"VAR?":"inventory"},{"VAR?":"nanaimo_bar"},"+",{"VAR=":"inventory","re":true},"/ev","ev",false,"/ev",{"VAR=":"table_has_nanaimo_bar","re":true},"ev","str","^table","/str","str","^empty","/str",{"x()":"changeVisualState","exArgs":2},"pop","/ev","\n",{"->":"main_loop"},{"#f":5}],"c-1":["\n",{"->":"main_loop"},{"#f":5}]}]}],[{"->":".^.b"},{"b":["\n","^The table is empty.","\n",{"->":"main_loop"},{"->":"table.5"},null]}],"nop","\n",{"#f":1}],"drawer":["ev",{"CNT?":".^"},1,"==","/ev",[{"->":".^.b","c":true},{"b":["\n","^You open the ",["ev","visit",3,"seq","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"ev","du",2,"==","/ev",{"->":".^.s2","c":true},"nop",{"s0":["pop","^mahogony",{"->":".^.^.23"},null],"s1":["pop","^blackwood",{"->":".^.^.23"},null],"s2":["pop","^oaken",{"->":".^.^.23"},null],"#f":5}],"^ drawer and find a half-full book of matches.","\n","ev",{"VAR?":"inventory"},{"VAR?":"matchbook"},"+",{"VAR=":"inventory","re":true},"/ev",{"->":"drawer.7"},null]}],[{"->":".^.b"},{"b":["\n","^The drawer is empty.","\n",{"->":"drawer.7"},null]}],"nop","\n",{"->":"main_loop"},{"#f":1}],"chloroform_options":[{"temp=":"divert"},{"temp=":"list_item"},{"temp=":"npc_id"},["ev","str","^Use chloroform.","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","ev","str","^(go back)","/str","out","/ev","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["\n","ev",{"VAR?":"npc_id"},{"VAR?":"list_item"},{"f()":"chloroformWrapper"},"out","/ev","\n",{"->":"divert","var":true},{"#f":5}],"c-1":["\n",{"->":"main_loop"},"done",{"#f":5}]}],{"#f":1}],"guard":["ev",{"VAR?":"_guard"},"/ev",{"->t->":"check_chloroformed"},["ev",{"VAR?":"npc_hidden"},{"VAR?":"_guard"},"?","/ev",{"->":".^.b","c":true},{"b":["\n",{"->":"main_loop"},{"->":"guard.7"},null]}],["ev",{"VAR?":"panicked"},{"VAR?":"_guard"},"?","/ev",{"->":".^.b","c":true},{"b":["\n","^Guard: You'll never get away with this, ",["ev","visit",2,"seq","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"nop",{"s0":["pop","^scoundrel",{"->":".^.^.17"},null],"s1":["pop","^villain",{"->":".^.^.17"},null],"#f":5}],"^!","\n","ev","str","^guard","/str",{"VAR?":"_guard"},{"^->":"main_loop"},"/ev","thread",{"->":"chloroform_options"},{"->":"guard.7"},null]}],[{"->":".^.b"},{"b":["\n","^Guard: You seem familiar. Have we met?","\n",["ev",{"^->":"guard.6.b.3.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":2},{"s":["^You: I don't think so.",{"->":"$r","var":true},null]}],{"->":"guard.7"},{"c-0":["ev",{"^->":"guard.6.b.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.3.s"},[{"#n":"$r2"}],"\n","^Guard: Sorry, I'm feeling a bit groggy today.","\n",{"->":"main_loop"},{"#f":5}]}]}],"nop","\n",{"#f":1}],"mechanic":["ev",{"VAR?":"_mechanic"},"/ev",{"->t->":"check_chloroformed"},{"#":"DIALOGUE"},["ev",{"VAR?":"panicked"},{"VAR?":"_mechanic"},"?","/ev",{"->":".^.b","c":true},{"b":["\n","^Mechanic: ",["ev","visit",3,"seq","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"ev","du",2,"==","/ev",{"->":".^.s2","c":true},"nop",{"s0":["pop","^ You're a menace to everyone on this train.",{"->":".^.^.23"},null],"s1":["pop","^They'll put you away for a long time.",{"->":".^.^.23"},null],"s2":["pop","^You picked the wrong train to screw with, buddy.",{"->":".^.^.23"},null],"#f":5}],"\n","ev","str","^mechanic","/str",{"VAR?":"_mechanic"},{"^->":"main_loop"},"/ev","thread",{"->":"chloroform_options"},"done",{"->":".^.^.^.8"},null]}],["ev",{"VAR?":"idle"},{"VAR?":"_mechanic"},"?","/ev",{"->":".^.b","c":true},{"b":["\n",{"->t->":".^.^.^.idle_dialogue"},{"->":".^.^.^.8"},null]}],[{"->":".^.b"},{"b":["\n",{"->t->":".^.^.^.other"},{"->":".^.^.^.8"},null]}],"nop","\n",{"->":"main_loop"},{"idle_dialogue":[["^Mechanic: ","ev",{"VAR?":"suspicious"},{"VAR?":"_mechanic"},"?","/ev",[{"->":".^.b","c":true},{"b":[["ev","visit",3,"seq","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"ev","du",2,"==","/ev",{"->":".^.s2","c":true},"nop",{"s0":["pop","^ I'm not sure what your deal is, but I'm keeping an eye on you!",{"->":".^.^.23"},null],"s1":["pop","^Just what are you up to, exactly? Don't answer that.",{"->":".^.^.23"},null],"s2":["pop","^Why do you keep bothering me?",{"->":".^.^.23"},null],"#f":5}],{"->":".^.^.^.8"},null]}],[{"->":".^.b"},{"b":[["ev","visit",2,"MIN","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"ev","du",2,"==","/ev",{"->":".^.s2","c":true},"nop",{"s0":["pop","^I hope you're enjoying the trip.",{"->":".^.^.23"},null],"s1":["pop","^Oh, you again.",{"->":".^.^.23"},null],"s2":["pop","^What is it this time?",{"->":".^.^.23"},null],"#f":5}],{"->":".^.^.^.8"},null]}],"nop","\n",["ev",{"^->":"mechanic.idle_dialogue.0.10.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":2},{"s":["^You: Who are you, if you don't mind me asking?",{"->":"$r","var":true},null]}],["ev",{"^->":"mechanic.idle_dialogue.0.11.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str",{"VAR?":"gas_leak"},"/ev",{"*":".^.^.c-1","flg":19},{"s":["^You: I think there's a gas leak in the galley.",{"->":"$r","var":true},null]}],["ev",{"^->":"mechanic.idle_dialogue.0.12.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str",{"VAR?":"plant_state"},{"VAR?":"burning"},"==","/ev",{"*":".^.^.c-2","flg":19},{"s":["^You: I think there's a fire on board the train.",{"->":"$r","var":true},null]}],["ev",{"^->":"mechanic.idle_dialogue.0.13.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-3","flg":2},{"s":["^You: Goodbye.",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"mechanic.idle_dialogue.0.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.10.s"},[{"#n":"$r2"}],"\n","^Mechanic: ",["ev","visit",3,"MIN","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"ev","du",2,"==","/ev",{"->":".^.s2","c":true},"ev","du",3,"==","/ev",{"->":".^.s3","c":true},"nop",{"s0":["pop","^I'm ","ev","str","^Jimmy","/str","out","/ev","^, the mechanic.  I'm here to keep the train running safely. ",{"->":"mechanic.long_discussion"},{"->":".^.^.29"},null],"s1":["pop","^I'm ","ev","str","^Jimmy","/str","out","/ev","^, the mechanic. I told you this already. ","ev","void","/ev","->->",{"->":".^.^.29"},null],"s2":["pop","^I feel like we've been over this already. ","ev","void","/ev","->->",{"->":".^.^.29"},null],"s3":["pop","^You have the memory of a goldfish. ","ev","void","/ev","->->",{"->":".^.^.29"},null],"#f":5}],"\n",{"->":".^.^.g-0"},{"#f":5}],"c-1":["ev",{"^->":"mechanic.idle_dialogue.0.c-1.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.11.s"},[{"#n":"$r2"}],"\n","^Mechanic: Oh shit, that's not good.","\n","^Mechanic: ","ev",{"x()":"trainIsMoving"},"/ev",[{"->":".^.b","c":true},{"b":["^STOP THE TRAIN IMMEDIATELY.",{"->":".^.^.^.15"},null]}],[{"->":".^.b"},{"b":["^We're gonna be delayed a while longer while we sort this out.",{"->":".^.^.^.15"},null]}],"nop","\n",{"->t->":"mechanic.handle_accident"},{"->":".^.^.g-0"},{"#f":5}],"c-2":["ev",{"^->":"mechanic.idle_dialogue.0.c-2.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.12.s"},[{"#n":"$r2"}],"\n","^Mechanic: Oh dear. There is, isn't there.","\n","^Mechanic: ","ev",{"x()":"trainIsMoving"},"/ev",[{"->":".^.b","c":true},{"b":["^STOP THE TRAIN.",{"->":".^.^.^.15"},null]}],[{"->":".^.b"},{"b":["^We're gonna be delayed a while longer while we sort this out.",{"->":".^.^.^.15"},null]}],"nop","\n",{"->t->":"mechanic.handle_accident"},{"->":".^.^.g-0"},{"#f":5}],"c-3":["ev",{"^->":"mechanic.idle_dialogue.0.c-3.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.13.s"},[{"#n":"$r2"}],"\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":["ev","void","/ev","->->",{"#f":5}]}],{"#f":1}],"long_discussion":[[["ev",{"^->":"mechanic.long_discussion.0.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^You: Seems like a hard job.",{"->":"$r","var":true},null]}],["ev",{"^->":"mechanic.long_discussion.0.1.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-1","flg":18},{"s":["^You: Seems easy.",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"mechanic.long_discussion.0.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n","^Mechanic: For other people, maybe, but not for ol' ","ev","str","^Jimmy","/str","out","/ev","^.  Trust me, I know how this train works inside and out.","\n",{"->":".^.^.g-0"},{"#f":5}],"c-1":["ev",{"^->":"mechanic.long_discussion.0.c-1.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.1.s"},[{"#n":"$r2"}],"\n","^Mechanic: Pff, sure.  What do you do, again?","\n",[["ev",{"^->":"mechanic.long_discussion.0.c-1.9.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^Oh, you know, a bit of this, a bit of that.",{"->":"$r","var":true},null]}],["ev",{"^->":"mechanic.long_discussion.0.c-1.9.1.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-1","flg":18},{"s":["^You: I'm a businessman.",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"mechanic.long_discussion.0.c-1.9.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n","^Mechanic: So you're unemployed.","\n",[["ev",{"^->":"mechanic.long_discussion.0.c-1.9.c-0.9.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^You: No!",{"->":"$r","var":true},null]}],["ev",{"^->":"mechanic.long_discussion.0.c-1.9.c-0.9.1.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-1","flg":18},{"s":["^You: I guess so.",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"mechanic.long_discussion.0.c-1.9.c-0.9.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n","^Mechanic: So what do you do?","\n",[["ev",{"^->":"mechanic.long_discussion.0.c-1.9.c-0.9.c-0.9.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^You: I can't exactly say.",{"->":"$r","var":true},null]}],["ev",{"^->":"mechanic.long_discussion.0.c-1.9.c-0.9.c-0.9.1.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-1","flg":18},{"s":["^You: I'm a world-famous thief.",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"mechanic.long_discussion.0.c-1.9.c-0.9.c-0.9.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n","^Mechanic: What are you going on about?","\n","^Mechanic: Never mind, don't answer that.","\n","ev",{"VAR?":"suspicious"},{"VAR?":"_mechanic"},"+",{"VAR=":"suspicious","re":true},"/ev",{"->":".^.^.^.^.^.^.^.^.g-0"},{"#f":5}],"c-1":["ev",{"^->":"mechanic.long_discussion.0.c-1.9.c-0.9.c-0.9.c-1.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.1.s"},[{"#n":"$r2"}],"\n","^Mechanic: Sure you are.  Quit wasting my time.","\n",{"->":".^.^.^.^.^.^.^.^.g-0"},{"#f":5}]}],{"#f":5}],"c-1":["ev",{"^->":"mechanic.long_discussion.0.c-1.9.c-0.9.c-1.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.1.s"},[{"#n":"$r2"}],"\n","^Mechanic: Then how did you afford a ticket?","\n",[["ev",{"^->":"mechanic.long_discussion.0.c-1.9.c-0.9.c-1.9.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^You: To be honest, I rarely have to worry about how much things cost.",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"mechanic.long_discussion.0.c-1.9.c-0.9.c-1.9.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n","^Mechanic: Oh, I see.  You were born into money. You're a leech.","\n",[["ev",{"^->":"mechanic.long_discussion.0.c-1.9.c-0.9.c-1.9.c-0.9.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^You: That's not what I meant.",{"->":"$r","var":true},null]}],["ev",{"^->":"mechanic.long_discussion.0.c-1.9.c-0.9.c-1.9.c-0.9.1.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-1","flg":18},{"s":["^You: Close enough, I guess.",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"mechanic.long_discussion.0.c-1.9.c-0.9.c-1.9.c-0.9.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n","^Mechanic: What exactly did you mean, then?","\n",[["ev",{"^->":"mechanic.long_discussion.0.c-1.9.c-0.9.c-1.9.c-0.9.c-0.9.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^You: You know what, forget it.",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"mechanic.long_discussion.0.c-1.9.c-0.9.c-1.9.c-0.9.c-0.9.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n","^Mechanic: Whatever you say, weirdo.","\n","ev",{"VAR?":"suspicious"},{"VAR?":"_mechanic"},"+",{"VAR=":"suspicious","re":true},"/ev",{"->":".^.^.^.^.^.^.^.^.^.^.^.^.g-0"},{"#f":5}]}],{"#f":5}],"c-1":["ev",{"^->":"mechanic.long_discussion.0.c-1.9.c-0.9.c-1.9.c-0.9.c-1.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.1.s"},[{"#n":"$r2"}],"\n",[["ev",{"^->":"mechanic.long_discussion.0.c-1.9.c-0.9.c-1.9.c-0.9.c-1.7.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^Mechanic: I'll never understand your sort.",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"mechanic.long_discussion.0.c-1.9.c-0.9.c-1.9.c-0.9.c-1.7.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n",{"->":".^.^.^.^.^.^.^.^.^.^.^.^.g-0"},{"#f":5}]}],{"#f":5}]}],{"#f":5}]}],{"#f":5}]}],{"#f":5}],"c-1":["ev",{"^->":"mechanic.long_discussion.0.c-1.9.c-1.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.1.s"},[{"#n":"$r2"}],"\n","^Mechanic: What kind of business?","\n",[["ev",{"^->":"mechanic.long_discussion.0.c-1.9.c-1.9.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^You: None of yours.",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"mechanic.long_discussion.0.c-1.9.c-1.9.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n","^Mechanic: Fair enough.","\n",{"->":".^.^.^.^.^.^.g-0"},{"#f":5}]}],{"#f":5}]}],{"#f":5}],"g-0":["ev","void","/ev","->->",{"#f":5}]}],{"#f":1}],"handle_accident":["ev",60,"str","^Conductor: Everything seems to be under control. Let's get moving again.","/str",{"x()":"delayTrain","exArgs":2},"pop","/ev","\n","ev",{"VAR?":"plant_state"},{"VAR?":"burning"},"==","/ev",[{"->":".^.b","c":true},{"b":["\n","ev","str","^plant","/str","str","^burnt","/str",{"x()":"changeVisualState","exArgs":2},"pop","/ev","\n",{"->":".^.^.^.15"},null]}],"nop","\n","ev","str","^oven","/str","str","^normal","/str",{"x()":"changeVisualState","exArgs":2},"pop","/ev","\n","ev",{"CNT?":".^"},1,">","/ev",[{"->":".^.b","c":true},{"b":["\n","ev",{"VAR?":"suspicious"},{"VAR?":"_mechanic"},"?","/ev",[{"->":".^.b","c":true},{"b":["\n","^Mechanic: You expect me to believe that a shady guy like you just happened to come across two unrelated accidents?","\n","^Mechanic: On MY train?","\n","^Mechanic: You're behind this, I know it!","\n","ev",{"VAR?":"panicked"},{"VAR?":"_mechanic"},"+",{"VAR=":"panicked","re":true},"/ev",{"->":".^.^.^.8"},null]}],[{"->":".^.b"},{"b":["\n","^Mechanic: It's weird that this keeps happening to you specifically, right?","\n","ev",{"VAR?":"suspicious"},{"VAR?":"_mechanic"},"+",{"VAR=":"suspicious","re":true},"/ev",{"->":".^.^.^.8"},null]}],"nop","\n",{"->":".^.^.^.34"},null]}],"nop","\n","ev","void","/ev","->->",{"#f":1}],"other":["^Mechanic: Enjoy your trip.","\n","ev","void","/ev","->->",{"#f":1}],"#f":1}],"inventor":[["ev",{"VAR?":"_inventor"},"/ev",{"->t->":"check_chloroformed"},["ev",{"VAR?":"panicked"},{"VAR?":"_inventor"},"?","/ev",{"->":".^.b","c":true},{"b":["\n","^Inventor: ",["ev","visit",2,"seq","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"nop",{"s0":["pop","^ Did you seriously think you could outwit me?",{"->":".^.^.17"},null],"s1":["pop","^You'll hang for this.",{"->":".^.^.17"},null],"#f":5}],"\n","ev","str","^inventor","/str",{"VAR?":"_inventor"},{"^->":"main_loop"},"/ev","thread",{"->":"chloroform_options"},"done",{"->":".^.^.^.5"},null]}],"nop","\n","^Inventor: ",["ev","visit",3,"seq","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"ev","du",2,"==","/ev",{"->":".^.s2","c":true},"nop",{"s0":["pop","^Good day!",{"->":".^.^.23"},null],"s1":["pop","^I hope you're enjoying the trip as much as I am!",{"->":".^.^.23"},null],"s2":["pop","^Trains are fascinating, aren't they?",{"->":".^.^.23"},null],"#f":5}],"\n","ev","str","^Pick pockets","/str","/ev",{"*":".^.c-0","flg":20},["ev",{"^->":"inventor.0.16.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-1","flg":2},{"s":["^You: Goodbye.",{"->":"$r","var":true},null]}],{"c-0":["\n","^You pick the inventor's pockets...","\n","^...and find the airship plans you were looking for!","\n","^Maybe this job is salvageable after all.","\n",{"->":"main_loop"},{"#f":5}],"c-1":["ev",{"^->":"inventor.0.c-1.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.16.s"},[{"#n":"$r2"}],"\n",{"->":"main_loop"},{"#f":5}]}],{"#f":1}],"hunter":[["ev",{"VAR?":"_hunter"},"/ev",{"->t->":"check_chloroformed"},"^Hunter: ",["ev","visit",1,"MIN","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"nop",{"s0":["pop","^I hunt the most dangerous game of all. ",{"->":"hunter.conversation"},{"->":".^.^.17"},null],"s1":["pop","^British Columbia is teeming with beautiful animals to shoot.",{"->":".^.^.17"},null],"#f":5}],"\n",["ev",{"^->":"hunter.0.7.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":2},{"s":["^You: Goodbye.",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"hunter.0.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.7.s"},[{"#n":"$r2"}],"\n",{"->":"main_loop"},{"#f":5}]}],{"conversation":[[["ev",{"^->":"hunter.conversation.0.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^You: That's terrible!",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"hunter.conversation.0.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n","^Hunter: What are you talking about?","\n","^Hunter: If I don't kill the MegaRhinos then who will?","\n",[["ev",{"^->":"hunter.conversation.0.c-0.11.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^You: Sorry, I thought you meant... never mind.",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"hunter.conversation.0.c-0.11.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n",{"->":"main_loop"},{"->":"main_loop"},{"#f":5}]}],{"#f":5}]}],{"#f":1}],"#f":1}],"magnate":[["ev",{"VAR?":"_magnate"},"/ev",{"->t->":"check_chloroformed"},["ev",{"VAR?":"panicked"},{"VAR?":"_magnate"},"?","/ev",{"->":".^.b","c":true},{"b":["\n","^Oil Magnate: I hope you can afford a good lawyer, criminal!","\n","ev","str","^magnate","/str",{"VAR?":"_magnate"},{"^->":"magnate.alert_inventor"},"/ev","thread",{"->":"chloroform_options"},"done",{"->":".^.^.^.5"},null]}],"nop","\n","^Oil Magnate: ",["ev","visit",1,"MIN","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"nop",{"s0":["pop","^Do you know how wealthy I am? ",{"->":"magnate.how_wealthy"},{"->":".^.^.17"},null],"s1":["pop","ev",{"VAR?":"suspicious"},{"VAR?":"_magnate"},"?","/ev",[{"->":".^.b","c":true},{"b":["^What do you want now?",{"->":".^.^.^.8"},null]}],[{"->":".^.b"},{"b":["^Hello again!",{"->":".^.^.^.8"},null]}],"nop",{"->":".^.^.17"},null],"#f":5}],"\n",["ev",{"^->":"magnate.0.10.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str",{"VAR?":"magnate_stopped_train"},"!","/ev",{"*":".^.^.c-0","flg":19},{"s":["^I don't believe you're as wealthy as you say you are.",{"->":"$r","var":true},null]}],"ev","str","^Goodbye.","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["ev",{"^->":"magnate.0.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.10.s"},[{"#n":"$r2"}],"\n",{"->":".^.^.^.challenge_him"},{"->":".^.^.g-0"},{"#f":5}],"c-1":["\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":[{"->":"main_loop"},{"#f":5}]}],{"how_wealthy":[[["ev",{"^->":"magnate.how_wealthy.0.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^You: Why would I know that?",{"->":"$r","var":true},null]}],["ev",{"^->":"magnate.how_wealthy.0.1.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-1","flg":18},{"s":["^You: I wouldn't flaunt my wealth if I were you.  There could be thieves around.",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"magnate.how_wealthy.0.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n","^Oil Magnate: I'm one of the wealthiest men in Canada!","\n","^Oil Magnate: Anyone who's anyone knows who I am.","\n",[["ev",{"^->":"magnate.how_wealthy.0.c-0.11.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^I don't believe it.",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"magnate.how_wealthy.0.c-0.11.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n",{"->":"magnate.challenge_him"},{"->":".^.^.^.^.g-0"},{"#f":5}]}],{"#f":5}],"c-1":["ev",{"^->":"magnate.how_wealthy.0.c-1.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.1.s"},[{"#n":"$r2"}],"\n","^Oil Magnate: I'm not worried about that.","\n","^Oil Magnate: To be honest, money means so little to me at this point that I wouldn't even mind losing my wallet.","\n",[["ev",{"^->":"magnate.how_wealthy.0.c-1.11.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^You: Why not hand it over to me, then?",{"->":"$r","var":true},null]}],["ev",{"^->":"magnate.how_wealthy.0.c-1.11.1.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-1","flg":18},{"s":["^You: If you say so.",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"magnate.how_wealthy.0.c-1.11.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n","^Oil Magnate: Bold.  But no, what would I stand to gain from that?","\n",[["ev",{"^->":"magnate.how_wealthy.0.c-1.11.c-0.9.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^You: The satisfaction of a generous act?",{"->":"$r","var":true},null]}],["ev",{"^->":"magnate.how_wealthy.0.c-1.11.c-0.9.1.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-1","flg":18},{"s":["^You: Stop making excuses.  I bet you're not even that wealthy.",{"->":"$r","var":true},null]}],["ev",{"^->":"magnate.how_wealthy.0.c-1.11.c-0.9.2.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-2","flg":18},{"s":["^You: Well, you might not like the alternative.",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"magnate.how_wealthy.0.c-1.11.c-0.9.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n","^Oil Magnate: Haha.  You're quite the joker.","\n",{"->":".^.^.^.^.^.^.g-0"},{"#f":5}],"c-1":["ev",{"^->":"magnate.how_wealthy.0.c-1.11.c-0.9.c-1.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.1.s"},[{"#n":"$r2"}],"\n","^Oil Magnate: Why, you little...","\n","^Oil Magnate: Fine. Take it! See if I care.","\n","ev",{"VAR?":"inventory"},{"VAR?":"money"},"+",{"VAR=":"inventory","re":true},"/ev","ev",{"VAR?":"inventory"},{"VAR?":"wallet"},"+",{"VAR=":"inventory","re":true},"/ev","^The oil magnate hands you a fine leather wallet containing $200.","\n",{"->":".^.^.^.^.^.^.g-0"},{"#f":5}],"c-2":["ev",{"^->":"magnate.how_wealthy.0.c-1.11.c-0.9.c-2.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.2.s"},[{"#n":"$r2"}],"\n","^Oil Magnate: Are you threatening me?","\n",[["ev",{"^->":"magnate.how_wealthy.0.c-1.11.c-0.9.c-2.9.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^You: Yes.",{"->":"$r","var":true},null]}],["ev",{"^->":"magnate.how_wealthy.0.c-1.11.c-0.9.c-2.9.1.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-1","flg":18},{"s":["^You: No, of course not.",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"magnate.how_wealthy.0.c-1.11.c-0.9.c-2.9.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n","^Oil Magnate: Oh. I see how it is.","\n","ev",{"VAR?":"inventory"},{"VAR?":"money"},"+",{"VAR=":"inventory","re":true},"/ev","ev",{"VAR?":"inventory"},{"VAR?":"wallet"},"+",{"VAR=":"inventory","re":true},"/ev","^The oil magnate hands you a fine leather wallet containing $200.","\n","^Oil Magnate: You won't get away with this, you know!","\n","ev",{"VAR?":"panicked"},{"VAR?":"_magnate"},"+",{"VAR=":"panicked","re":true},"/ev",{"->":".^.^.^.^.^.^.^.^.g-0"},{"#f":5}],"c-1":["ev",{"^->":"magnate.how_wealthy.0.c-1.11.c-0.9.c-2.9.c-1.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.1.s"},[{"#n":"$r2"}],"\n","^Oil Magnate: Damn straight.","\n","^Oil Magnate: I don't like the cut of your jib.","\n","ev",{"VAR?":"suspicious"},{"VAR?":"_magnate"},"+",{"VAR=":"suspicious","re":true},"/ev",{"->":".^.^.^.^.^.^.^.^.g-0"},{"#f":5}]}],{"#f":5}]}],{"#f":5}],"c-1":["ev",{"^->":"magnate.how_wealthy.0.c-1.11.c-1.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.1.s"},[{"#n":"$r2"}],"\n",{"->":".^.^.^.^.g-0"},{"#f":5}]}],{"#f":5}],"g-0":[{"->":"main_loop"},{"#f":5}]}],{"#f":1}],"challenge_him":[[["ev",{"VAR?":"suspicious"},{"VAR?":"_magnate"},"?","/ev",{"->":".^.b","c":true},{"b":["\n","^Oil Magnate: I don't have to prove anything to you.","\n",{"->":"main_loop"},{"->":".^.^.^.2"},null]}],["ev",{"VAR?":"groggy"},{"VAR?":"_magnate"},"?","/ev",{"->":".^.b","c":true},{"b":["\n","^Oil Magnate: ",["ev","visit",2,"seq","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"nop",{"s0":["pop","^Don't trains always make you sleepy?",{"->":".^.^.17"},null],"s1":["pop","^I just had the strangest dream.",{"->":".^.^.17"},null],"#f":5}],"\n",{"->":".^.^.^.2"},null]}],"nop","\n","^Oil Magnate: Don't be silly.","\n","^Oil Magnate: ","ev",{"VAR?":"inventory"},{"VAR?":"wallet"},"?","/ev",[{"->":".^.b","c":true},{"b":["^I already gave you my wallet, what more proof do you need?",{"->":".^.^.^.14"},null]}],[{"->":".^.b"},{"b":["^I can buy anything I want, whenever I want.",{"->":".^.^.^.14"},null]}],"nop","\n",["ev",{"^->":"magnate.challenge_him.0.16.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^You: I bet you couldn't make the conductor stop the train for you right now.",{"->":"$r","var":true},null]}],{"*":".^.c-1","flg":24},{"c-0":["ev",{"^->":"magnate.challenge_him.0.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.16.s"},[{"#n":"$r2"}],"\n","^Oil Magnate: CONDUCTOR! I will pay you $1000 dollars if you stop the train this instant.","\n","ev",60,"str","^Enough of that. Let's get going again.","/str",{"x()":"delayTrain","exArgs":2},"pop","/ev","\n","ev",true,"/ev",{"VAR=":"magnate_stopped_train","re":true},"^Conductor: Whatever you say, boss!","\n","^Oil Magnate: How's that for you?","\n",[["ev",{"^->":"magnate.challenge_him.0.c-0.26.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^You: Impressive.",{"->":"$r","var":true},null]}],["ev",{"^->":"magnate.challenge_him.0.c-0.26.1.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-1","flg":18},{"s":["^You: Wow, you sure showed me.",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"magnate.challenge_him.0.c-0.26.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n",{"->":".^.^.g-0"},{"#f":5}],"c-1":["ev",{"^->":"magnate.challenge_him.0.c-0.26.c-1.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.1.s"},[{"#n":"$r2"}],"\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":["^Oil Magnate: I know.","\n",{"->":".^.^.^.^.g-0"},{"#f":5}]}],{"#f":5}],"c-1":["\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":[{"->":"main_loop"},{"#f":5}]}],{"#f":1}],"alert_inventor":["ev",{"VAR?":"chloroformed"},{"VAR?":"_inventor"},"?","!","/ev",[{"->":".^.b","c":true},{"b":["\n","^Inventor: I saw that! You maniac!","\n","ev",{"VAR?":"panicked"},{"VAR?":"_inventor"},"+",{"VAR=":"panicked","re":true},"/ev",{"->":".^.^.^.7"},null]}],"nop","\n",{"->":"main_loop"},{"#f":3}],"#f":1}],"novelist":["ev",{"VAR?":"_novelist"},"/ev",{"->t->":"check_chloroformed"},"^Novelist: ",["ev","visit",3,"seq","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"ev","du",2,"==","/ev",{"->":".^.s2","c":true},"nop",{"s0":["pop","^This train would be a great setting for a murder mystery.",{"->":".^.^.23"},null],"s1":["pop","^The scenery here is beautiful.",{"->":".^.^.23"},null],"s2":["pop","^I should be writing right now.",{"->":".^.^.23"},null],"#f":5}],"\n",{"->":"main_loop"},{"#f":1}],"student":[["ev",{"VAR?":"_student"},"/ev",{"->t->":"check_chloroformed"},["ev",{"VAR?":"made_bet"},{"VAR?":"debt_payed"},"!","&&","/ev",{"->":".^.b","c":true},{"b":["\n",{"->":"student.ask_about_money"},{"->":".^.^.^.5"},null]}],"nop","\n","^Student: ",["ev","visit",3,"seq","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"ev","du",2,"==","/ev",{"->":".^.s2","c":true},"nop",{"s0":["pop","^I'm going to change the world some day!",{"->":".^.^.23"},null],"s1":["pop","^I should be studying for the bar exam.",{"->":".^.^.23"},null],"s2":["pop","^I had that dream about the unexpected final exam again.",{"->":".^.^.23"},null],"#f":5}],"\n",["ev",{"^->":"student.0.10.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^You: What do you study?",{"->":"$r","var":true},null]}],"ev","str","^Goodbye.","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["ev",{"^->":"student.0.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.10.s"},[{"#n":"$r2"}],"\n","^Student: I'm studying law.","\n","^Student: I've almost graduated, actually!","\n",[["ev",{"^->":"student.0.c-0.11.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^You: So you're going to be a lawyer?",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"student.0.c-0.11.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n","^Student: Yup!","\n","^Student: Well, assuming I pass the bar exam.  Fingers crossed.","\n",[["ev",{"^->":"student.0.c-0.11.c-0.11.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^You: I'm sure you'll do fine.",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"student.0.c-0.11.c-0.11.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n","^Student: Probably! I'm top of my class.","\n","^Student: I'm really good at lawyering.","\n","^Student: They say I could talk anyone into anything.","\n",[["ev",{"^->":"student.0.c-0.11.c-0.11.c-0.13.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^You: Oh, really?",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"student.0.c-0.11.c-0.11.c-0.13.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n",{"->":"student.make_bet"},{"->":"student.0.g-0"},{"#f":5}]}],{"#f":5}]}],{"#f":5}]}],{"#f":5}],"c-1":["\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":[{"->":"main_loop"},{"#f":5}]}],{"make_bet":[["^You: I bet you couldn't convince the conductor to stop the train right now.","\n","^Student: How much you wanna bet?","\n",["ev",{"^->":"student.make_bet.0.4.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^You: Let's say $200.",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"student.make_bet.0.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.4.s"},[{"#n":"$r2"}],"\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":["^Student: You're on.","\n","ev","str","^Wimp out.","/str","/ev",{"*":".^.c-1","flg":20},"ev","str","^Shake on it.","/str","/ev",{"*":".^.c-2","flg":20},{"c-1":["\n","^You: Actually, on second thought, no.","\n","^Student: Coward.","\n",{"->":"main_loop"},{"->":".^.^.^.g-1"},{"#f":5}],"c-2":["\n","ev",true,"/ev",{"VAR=":"made_bet","re":true},"^You shake on it.","\n","^Student: Excellent. Now watch this.","\n","^Student: HEY, CONDUCTOR! I've noticed that no one has inspected the axle bearings since we left Banff.","\n","^Student: This violates section 132.43 of the <i>Railway Code</i>.  You'd better stop and inspect them real quick if you don't want to get sued.","\n","^Conductor: By Jove, she's right!","\n","ev",60,"str","^Conductor: Alright, that's that sorted.  Let's get going again.","/str",{"x()":"delayTrain","exArgs":2},"pop","/ev","\n","^Student: You owe me 200 bucks.","\n",[["ev",{"^->":"student.make_bet.0.g-0.c-2.26.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^You: Really?",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"student.make_bet.0.g-0.c-2.26.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":["^Student: You entered a legally binding oral contract.","\n",["ev",{"^->":"student.make_bet.0.g-0.c-2.26.g-0.2.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str",{"VAR?":"inventory"},{"VAR?":"money"},"?","/ev",{"*":".^.^.c-1","flg":19},{"s":["^You: Ok, fine.",{"->":"$r","var":true},null]}],["ev",{"^->":"student.make_bet.0.g-0.c-2.26.g-0.3.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-2","flg":18},{"s":["^You: I'll get you the money before we arrive.",{"->":"$r","var":true},null]}],{"c-1":["ev",{"^->":"student.make_bet.0.g-0.c-2.26.g-0.c-1.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.2.s"},[{"#n":"$r2"}],"\n","ev",{"VAR?":"inventory"},{"VAR?":"money"},"-",{"VAR=":"inventory","re":true},"/ev","^You hand over the money.","\n","^Student: Pleasure doing business with you.","\n",{"->":".^.^.^.^.^.^.g-1"},{"#f":5}],"c-2":["ev",{"^->":"student.make_bet.0.g-0.c-2.26.g-0.c-2.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.3.s"},[{"#n":"$r2"}],"\n","^Student: You will if you know what's good for you.","\n",{"->":".^.^.^.^.^.^.g-1"},{"#f":5}],"#f":5}]}],{"#f":5}],"#f":5}],"g-1":[{"->":"main_loop"},{"#f":5}]}],{"#f":1}],"ask_about_money":[["^Student: Do you have the money yet?","\n",["ev",{"^->":"student.ask_about_money.0.2.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str",{"VAR?":"inventory"},{"VAR?":"money"},"?","/ev",{"*":".^.^.c-0","flg":3},{"s":["^You: Here, take it.",{"->":"$r","var":true},null]}],["ev",{"^->":"student.ask_about_money.0.3.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-1","flg":2},{"s":["^You: No, I'll get back to you.",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"student.ask_about_money.0.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.2.s"},[{"#n":"$r2"}],"\n","ev",{"VAR?":"inventory"},{"VAR?":"money"},"-",{"VAR=":"inventory","re":true},"/ev","^You hand over the money.","\n","^Student: Pleasure doing business with you.","\n","ev",true,"/ev",{"VAR=":"debt_payed","re":true},{"->":"main_loop"},{"#f":5}],"c-1":["ev",{"^->":"student.ask_about_money.0.c-1.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.3.s"},[{"#n":"$r2"}],"\n","^Student: You'd better.","\n",{"->":"main_loop"},{"#f":5}]}],{"#f":1}],"#f":1}],"check_chloroformed":[{"temp=":"character"},"ev",{"VAR?":"chloroformed"},{"VAR?":"character"},"?","/ev",[{"->":".^.b","c":true},{"b":["\n","^It seems ","ev",{"VAR?":"character"},{"f()":"name"},"out","/ev","^ is unconscious.","\n",{"->":"main_loop"},{"->":".^.^.^.7"},null]}],"nop","\n","ev","void","/ev","->->",{"#f":1}],"prettyPrintInventory":["ev",{"VAR?":"inventory"},"str","^","/str","str","^;","/str","str","^","/str",{"f()":"listToStr"},"/ev","~ret","\n",{"#f":1}],"prettyPrintObjectives":["ev",{"VAR?":"safe_opened"},"!","/ev",[{"->":".^.b","c":true},{"b":["\n","ev","str","^Steal the airship plans.","/str","/ev","~ret",{"->":".^.^.^.6"},null]}],[{"->":".^.b"},{"b":["\n","ev","str","^","/str","/ev",{"temp=":"objectives"},"ev",{"VAR?":"made_bet"},{"VAR?":"debt_payed"},"!","&&","/ev",[{"->":".^.b","c":true},{"b":["\n","ev",{"VAR?":"objectives"},"str","^Pay the law student her winnings.","/str","+",{"temp=":"objectives","re":true},"/ev",{"->":".^.^.^.14"},null]}],"nop","\n","ev",{"VAR?":"objectives"},"str","^;","/str",{"VAR?":"inventory"},{"VAR?":"incriminating"},"L^","str","^Burn the ","/str","str","^;","/str","str","^.","/str",{"f()":"listToStr"},"+","+",{"temp=":"objectives","re":true},"/ev","\n","ev",{"VAR?":"objectives"},"str","^;","/str",{"VAR?":"chloroformed"},"str","^Delay the train until ","/str","str","^;","/str","str","^ wakes up.","/str",{"f()":"listToStr"},"+","+",{"temp=":"objectives","re":true},"/ev","\n","ev",{"VAR?":"objectives"},"str","^;","/str",{"VAR?":"panicked"},"str","^Chloroform ","/str","str","^;","/str","str","^.","/str",{"f()":"listToStr"},"+","+",{"temp=":"objectives","re":true},"/ev","\n","ev",{"VAR?":"objectives"},"/ev","~ret",{"->":".^.^.^.6"},null]}],"nop","\n",{"#f":1}],"characterAwakes":[{"temp=":"npc_id"},"ev",{"VAR?":"npc_id"},"/ev",["du","ev","str","^guard","/str","==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"chloroformed"},{"VAR?":"_guard"},"-",{"VAR=":"chloroformed","re":true},"/ev","ev",{"VAR?":"npc_id"},"str","^visible","/str",{"x()":"changeVisualState","exArgs":2},"pop","/ev","\n",{"->":".^.^.^.7"},null]}],["du","ev","str","^mechanic","/str","==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"chloroformed"},{"VAR?":"_mechanic"},"-",{"VAR=":"chloroformed","re":true},"/ev","ev",{"VAR?":"npc_id"},"str","^normal","/str",{"x()":"changeVisualState","exArgs":2},"pop","/ev","\n",{"->":".^.^.^.7"},null]}],"pop","nop","\n","ev","void","/ev","~ret",{"#f":1}],"delayTrain":[{"temp=":"message"},{"temp=":"seconds"},"ev","void","/ev","~ret",{"#f":1}],"chloroformNPC":[{"temp=":"npc_id"},"ev","void","/ev","~ret",{"#f":1}],"changeVisualState":[{"temp=":"state_id"},{"temp=":"obj_id"},"ev","void","/ev","~ret",{"#f":1}],"trainIsMoving":["ev",true,"/ev","~ret",{"#f":1}],"global decl":["ev",{"list":{},"origins":["items"]},{"VAR=":"items"},{"list":{"fire_states.burning":2}},{"VAR=":"fire_states"},{"VAR?":"burning"},{"VAR=":"fireplace_state"},{"list":{}},{"VAR=":"items_in_fireplace"},false,{"VAR=":"gas_leak"},{"VAR?":"normal"},{"VAR=":"plant_state"},false,{"VAR=":"safe_opened"},{"list":{},"origins":["characters"]},{"VAR=":"characters"},{"list":{}},{"VAR=":"chloroformed"},{"list":{}},{"VAR=":"suspicious"},{"list":{}},{"VAR=":"panicked"},{"list":{}},{"VAR=":"groggy"},{"list":{}},{"VAR=":"busy"},{"list":{"characters._mechanic":2}},{"VAR=":"idle"},{"list":{"characters._guard":1}},{"VAR=":"npc_hidden"},{"list":{"items.letter":2}},{"VAR=":"incriminating"},{"list":{"items.mop":4,"items.cloth":5,"items.handkerchief":6}},{"VAR=":"can_clean"},{"list":{"items.letter":2,"items.matchbook":7,"items.strange_schematics":3,"items.mop":4,"items.cloth":5}},{"VAR=":"flammable"},{"list":{"items.matchbook":7,"items.lighter":10}},{"VAR=":"firestarters"},{"list":{"items.handkerchief":6,"items.chloroform":8}},{"VAR=":"inventory"},{"list":{}},{"VAR=":"bloody"},true,{"VAR=":"bloody_hands"},false,{"VAR=":"drunk"},true,{"VAR=":"table_has_nanaimo_bar"},false,{"VAR=":"magnate_stopped_train"},false,{"VAR=":"made_bet"},false,{"VAR=":"debt_payed"},"/ev","end",null],"#f":1}],"listDefs":{"items":{"knife":1,"letter":2,"strange_schematics":3,"mop":4,"cloth":5,"handkerchief":6,"matchbook":7,"chloroform":8,"airship_plans":9,"lighter":10,"nanaimo_bar":11,"money":12,"wallet":13},"fire_states":{"normal":1,"burning":2,"burnt":3},"characters":{"_guard":1,"_mechanic":2,"_magnate":3,"_novelist":4,"_student":5,"_hunter":6,"_inventor":7}}}